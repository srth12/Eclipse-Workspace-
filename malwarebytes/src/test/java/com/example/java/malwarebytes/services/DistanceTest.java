package com.example.java.malwarebytes.services;

import com.example.java.malwarebytes.dto.GeoLocation;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

/**
 * https://andrew.hedges.name/experiments/haversine/
 */
class DistanceTest {

    @Test
    void getHaversineDistanceSameLocation() {
        GeoLocation loc1 = new GeoLocation(0, 0, 20);
        GeoLocation loc2 = new GeoLocation(0, 0, 5);
        double result = Distance.getHaversineDistance(loc1, loc2);
        System.out.println("Result is " + result);
//        var time = 1514764800 - 1514764800;
//        System.out.println("Speed is " + result/time);
        assertEquals(0, result);
    }

    @Test
    void getHaversineDistance2() {
        GeoLocation loc1 = new GeoLocation(38.898556, -77.037852, 20);
        GeoLocation loc2 = new GeoLocation(38.897147, -77.043934, 5);
        double result = Distance.getHaversineDistance(loc1, loc2);
        System.out.println("Result is " + result);
        assertEquals(0.3409920436362045, result);
    }
}
